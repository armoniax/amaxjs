import { isInMobileBrowser, type AdapterName } from '@amax/abstract-adapter';

declare global {
    interface Window {
        armadillo?: any;
    }
}

export const armadilloAdapterName = 'Armadillo' as AdapterName<'Armadillo'>;

export const armadilloUrl = isInMobileBrowser()
    ? 'https://aplink.app/home'
    : 'https://chromewebstore.google.com/detail/armadillo/ahkbnfljhaifiikpkhnkeobchonbpjpb?hl=zh-CN&utm_source=ext_sidebar';

export const armadilloIcon =
    'data:image/svg+xml;base64,PHN2ZyBpZD0i5Zu+5bGCXzEiIGRhdGEtbmFtZT0i5Zu+5bGCIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDQwIDQwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2EzNjUzNjt9LmNscy0ye2ZpbGw6I2Y5YTkwODt9LmNscy0ze2ZpbGw6I2Y5YjQwNjt9LmNscy00e2ZpbGw6I2ZmYTczMzt9LmNscy01e2ZpbGw6I2Y0YTAzYjt9LmNscy02e2ZpbGw6I2VmOGYyNjt9LmNscy03e2ZpbGw6IzhlNjAzNjt9LmNscy04e2ZpbGw6I2RkOTE0NTt9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMjIuOTUsMTYuODdoMS4zOWEwLDAsMCwwLDEsMCwwdjQuNDNhMywzLDAsMCwxLTMsM0gxOS45NWEwLDAsMCwwLDEsMCwwVjE5Ljg3QTMsMywwLDAsMSwyMi45NSwxNi44N1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyLjcyIC0xLjU2KSByb3RhdGUoOTApIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMjEuNDYsMTguNDloMS4zOWEwLDAsMCwwLDEsMCwwdjQuNDNhMywzLDAsMCwxLTMsM0gxOC40NmEwLDAsMCwwLDEsMCwwVjIxLjQ5QTMsMywwLDAsMSwyMS40NiwxOC40OVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyLjg2IDEuNTUpIHJvdGF0ZSg5MCkiLz48cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0zLjA3LDIyYTE3LjgzLDE3LjgzLDAsMCwwLDE3LjUsMTcuNjlWMzguNDVhNi45LDYuOSwwLDAsMS02LjY3LTYuNjIsNi42Nyw2LjY3LDAsMCwxLDQtNi4xLDcsNywwLDAsMSwyLS41Ni41Ni41NiwwLDAsMCwuNS0uNTZWNC4zNUExNy42NiwxNy42NiwwLDAsMCwzLjA3LDIyWiIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTIwLjc3LDM5LjZBMTYuNzgsMTYuNzgsMCwwLDEsMTMsMzguMzIsMTcuNjQsMTcuNjQsMCwwLDEsNi42LDMzLjZhMTcsMTcsMCwwLDEtMi4yOC0zLjM2LDE3LjE5LDE3LjE5LDAsMCwxLTEuNDctMy44LDE4LjQsMTguNCwwLDAsMS0uMi04LjEyLDE4Ljg0LDE4Ljg0LDAsMCwxLDEuMjctMy44OUExOCwxOCwwLDAsMSw2LDEwLjk0LDE4LjI1LDE4LjI1LDAsMCwxLDguODgsOGMuMjYtLjIyLjU0LS40Mi44MS0uNjJzLjU1LS4zOS44My0uNThhMTguMjcsMTguMjcsMCwwLDEsMS43OC0xLDE3Ljc2LDE3Ljc2LDAsMCwxLDMuOC0xLjM2LDE3LjI3LDE3LjI3LDAsMCwxLDQtLjQzQTE2LjQ2LDE2LjQ2LDAsMCwxLDI3LjY5LDUuOSwxOC4xMiwxOC4xMiwwLDAsMCwxMyw3LjEyLDE3LjMsMTcuMywwLDAsMCw1LjYsMTUuMTlhMTYuNiwxNi42LDAsMCwwLTEuMTIsMy41LDE3LjI0LDE3LjI0LDAsMCwwLDMuMjQsMTQsMTcuODYsMTcuODYsMCwwLDAsMi41OSwyLjcsMTYuNiwxNi42LDAsMCwwLDMuMTIsMi4xMUExOC42NSwxOC42NSwwLDAsMCwyMC43NywzOS42WiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIzNy4zNiAxNi4yIDM3LjU2IDE2Ljg1IDM3LjU0IDE2Ljg2IDM3LjM2IDE2LjIiLz48cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMzcuOSAxOC4xOSAzOC4xMyAxOS41NSAzOCAxOS41NyAzNy44MyAxOC4yIDM3LjkgMTguMTkiLz48cGF0aCBjbGFzcz0iY2xzLTUiIGQ9Ik0zOC4yNiwyMC45M2MwLC4yMywwLC40NiwwLC42OXYuNjlIMzhsMC0uNjh2LS42OVoiLz48cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMzguMTggMjMuNyAzNy45OCAyNS4wOCAzNy42NSAyNS4wMSAzNy45IDIzLjY2IDM4LjE4IDIzLjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMzcuNjcgMjYuNDMgMzcuMjYgMjcuNzcgMzYuODUgMjcuNjEgMzcuMyAyNi4zMyAzNy42NyAyNi40MyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIzNi43NCAyOS4wNiAzNi4xMiAzMC4zMiAzNS42NSAzMC4wNSAzNi4zIDI4Ljg1IDM2Ljc0IDI5LjA2Ii8+PHBvbHlnb24gY2xhc3M9ImNscy01IiBwb2ludHM9IjM1LjQgMzEuNTIgMzQuNTkgMzIuNjYgMzQuMDkgMzIuMjYgMzQuOTEgMzEuMTggMzUuNCAzMS41MiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIzMy42OSAzMy43NCAzMi43MSAzNC43NCAzMi4yIDM0LjE5IDMzLjE4IDMzLjI2IDMzLjY5IDMzLjc0Ii8+PHBvbHlnb24gY2xhc3M9ImNscy01IiBwb2ludHM9IjMxLjY1IDM1LjY3IDMwLjUyIDM2LjUyIDMwLjA1IDM1LjggMzEuMTYgMzUuMDQgMzEuNjUgMzUuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMjkuMzMgMzcuMjcgMjguMDggMzcuOTMgMjcuNjggMzcuMDYgMjguODkgMzYuNDggMjkuMzMgMzcuMjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMjYuNzggMzguNDkgMjUuNDQgMzguOTUgMjUuMTUgMzcuOTIgMjYuNDMgMzcuNTQgMjYuNzggMzguNDkiLz48cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMjQuMDYgMzkuMjkgMjIuNjYgMzkuNTMgMjIuNTMgMzguMzcgMjMuODUgMzguMiAyNC4wNiAzOS4yOSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIyMS4yNCAzOS42NiAyMC41MyAzOS42OSAyMC41NCAzOC40NCAyMS4yIDM4LjQ0IDIxLjI0IDM5LjY2Ii8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMjYuMTgsNC44N2E2LjEyLDYuMTIsMCwwLDAtOCwxLjY5di43N0E1LjgsNS44LDAsMCwwLDI0LDEzLjExSDM1Ljg1YTEuMjMsMS4yMywwLDAsMCwuNjItMi4zWiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTE3LjczLjI0aDJhMiwyLDAsMCwxLDIsMlY3LjA4YTAsMCwwLDAsMSwwLDBoLTJhMiwyLDAsMCwxLTItMlYuMjRhMCwwLDAsMCwxLDAsMFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5LjQ5IDcuMzIpIHJvdGF0ZSgtMTgwKSIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTE5LjgzLjI0aDEuMzlhMiwyLDAsMCwxLDIsMlY3LjA4YTAsMCwwLDAsMSwwLDBIMjEuODNhMiwyLDAsMCwxLTItMlYuMjRBMCwwLDAsMCwxLDE5LjgzLjI0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDMuMDQgNy4zMikgcm90YXRlKDE4MCkiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Ik0yMCwyMS41Niw4LjI1LDcuODZjLjM4LS4zMi43Ni0uNjMsMS4xNi0uOTJzLjgxLS41NiwxLjIzLS44MkwyMC4xLDIxLjQ5QS4wNi4wNiwwLDAsMSwyMCwyMS41NloiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Ik0xOS40OCwyMS40Niw0Ljc5LDExLjc5Yy4yNy0uNDEuNTYtLjgxLjg2LTEuMnMuNjMtLjc3LDEtMS4xM2wxMywxMS44NUMxOS42OCwyMS4zOSwxOS41OCwyMS41MywxOS40OCwyMS40NloiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Ik0xOS41NywyMS44NWwtMTctNS4zMmMuMTUtLjQ4LjMxLS45NC41LTEuNHMuMzgtLjkxLjYtMS4zNWwxNiw3LjkyQzE5LjcxLDIxLjc1LDE5LjY2LDIxLjg4LDE5LjU3LDIxLjg1WiIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0iTTE5Ljg4LDIyLjEzLDEuNywyMS42OWMwLS40OSwwLTEsLjA5LTEuNDhzLjEyLTEsLjIxLTEuNDZMMTkuODksMjJBLjA1LjA1LDAsMCwxLDE5Ljg4LDIyLjEzWiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTIwLjQxLDE4LjIyVjIyLjlhLjM3LjM3LDAsMCwxLS4zNS4zOCw3LjQ5LDcuNDksMCwwLDAtMy40NywxLjIyLDUuNTYsNS41NiwwLDAsMS0uMzgtMS45MkE0LjM2LDQuMzYsMCwwLDEsMjAuNDEsMTguMjJaIi8+PHBhdGggY2xhc3M9ImNscy03IiBkPSJNMjMuNzksOWExLjE5LDEuMTksMCwwLDEsMi4zNywwIi8+PHBhdGggY2xhc3M9ImNscy04IiBkPSJNMjYuODIsNS4yMmEyLjY4LDIuNjgsMCwwLDAtMi4yMi4zM2MtMS4xMS42OS0uODgsMi4xNi0uMDksMS45MmExLjg5LDEuODksMCwwLDEsMi4zMiwxLjE5YzEsMy4yMiw2LjcyLjgzLDkuNDksMi4wN1oiLz48L3N2Zz4=';

export function openArmadilloWallet(): boolean {
    if (!supportArmadilloWallet()) {
        window.location.href = armadilloUrl;
        return true;
    }
    return false;
}

export function supportArmadilloWallet(): boolean {
    return !!window.armadillo;
}
